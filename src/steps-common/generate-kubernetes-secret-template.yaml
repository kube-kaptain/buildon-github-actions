# SPDX-License-Identifier: MIT
# Copyright (c) 2025-2026 Kaptain contributors (Fred Cooke)

- name: Generate Secret template manifest
  id: generate-secret-template
  if: inputs.kubernetes-secret-template-sub-path != ''
  uses: ./.github/buildon-github-actions/src/actions/generate-kubernetes-secret-template
  with:
    # Required context
    project-name: ${{ steps.versions.outputs.project-name }}
    # Secret template settings
    kubernetes-secret-template-sub-path: ${{ inputs.kubernetes-secret-template-sub-path }}
    # Global settings
    output-sub-path: ${{ inputs.output-sub-path }}
    token-name-style: ${{ inputs.token-name-style }}
    token-delimiter-style: ${{ inputs.token-delimiter-style }}
    kubernetes-secret-template-name-checksum-injection: ${{ inputs.kubernetes-secret-template-name-checksum-injection }}
    kubernetes-global-additional-labels: ${{ inputs.kubernetes-global-additional-labels }}
    kubernetes-global-additional-annotations: ${{ inputs.kubernetes-global-additional-annotations }}
    kubernetes-secret-template-additional-labels: ${{ inputs.kubernetes-secret-template-additional-labels }}
    kubernetes-secret-template-additional-annotations: ${{ inputs.kubernetes-secret-template-additional-annotations }}
